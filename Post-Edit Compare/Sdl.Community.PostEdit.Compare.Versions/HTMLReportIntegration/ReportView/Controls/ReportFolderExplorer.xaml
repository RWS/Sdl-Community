<Window x:Class="Sdl.Community.PostEdit.Versions.HTMLReportIntegration.ReportView.Controls.ReportFolderExplorer"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Name="Root"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        Title="Reports Folder List"
        Height="400"
        Width="600"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Sdl.Desktop.Platform.Styles;component/buttonresources.xaml" />
                <ResourceDictionary Source="/Sdl.Desktop.Platform.Styles;component/datagridresources.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Border Background="White"
            CornerRadius="12"
            MouseDown="TitleBar_MouseDown"
            BorderBrush="#CCC"
            BorderThickness="1"
            Padding="0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="45" />
                <RowDefinition Height="*" />
                <RowDefinition Height="50" />
            </Grid.RowDefinitions>

            <!-- Title Bar -->
            <Border Grid.Row="0"
                    Background="{StaticResource SdlPrimaryTitle.Foreground}"
                    Height="45"
                    CornerRadius="12,12,0,0">
                <Grid>
                    <TextBlock Text="Report Folders"
                               Foreground="White"
                               FontSize="16"
                               FontWeight="Bold"
                               VerticalAlignment="Center"
                               Margin="12,0,0,0" />
                    <Button Content="✖"
                            Width="30"
                            Height="30"
                            HorizontalAlignment="Right"
                            Margin="0,7,10,0"
                            Background="Transparent"
                            Foreground="White"
                            FontSize="14"
                            BorderThickness="0"
                            Cursor="Hand"
                            ToolTip="Close"
                            Click="CloseWindow_Click">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Opacity"
                                        Value="0.7" />
                                <Setter Property="Foreground"
                                        Value="White" />
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver"
                                             Value="True">
                                        <Setter Property="Opacity"
                                                Value="1" />
                                        <Setter Property="Foreground"
                                                Value="#FF5555" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
            </Border>

            <!-- Content Section -->
            <Border Grid.Row="1"
                    BorderBrush="#DDD"
                    BorderThickness="1"
                    CornerRadius="0,0,5,5"
                    Background="White"
                    Padding="10"
                    Margin="10">
                <DataGrid x:Name="FolderListGrid"
                          AutoGenerateColumns="False"
                          HeadersVisibility="Column"
                          CanUserAddRows="False"
                          IsReadOnly="True"
                          Style="{StaticResource Sdl.DataGrid.GenericStyle}"
                          RowHeight="30"
                          ItemsSource="{Binding ReportFolders}"
                          BorderThickness="0"
                          AlternationCount="2">
                    <DataGrid.Resources>
                        <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}"
                                         Color="Transparent" />
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="File Path"
                                            Binding="{Binding}"
                                            Width="*" />
                        <DataGridTemplateColumn Width="40">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="✖"
                                            Width="25"
                                            Height="25"
                                            Background="Transparent"
                                            Foreground="Red"
                                            BorderThickness="0"
                                            Cursor="Hand"
                                            Click="RemoveFolderButton_Click" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <!-- Bottom Button -->
            <Button Grid.Row="2"
                    Content="Add New"
                    Click="AddNewReportFolderButton_Clicked"
                    Padding="10,5"
                    Width="120"
                    Style="{StaticResource Sdl.Button.WindowControlStyle}"
                    BorderThickness="0"
                    Cursor="Hand"
                    FontSize="14"
                    FontWeight="Bold"
                    HorizontalAlignment="Left"
                    Margin="10,10,10,10" />

            <StackPanel Grid.Row="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right">
                <Button Content="Cancel"
                        Click="OkButton_Click"
                        Padding="10,5"
                        IsCancel="True"
                        Width="120"
                        Style="{StaticResource Sdl.Button.SecondaryStyle}"
                        BorderThickness="0"
                        Cursor="Hand"
                        FontSize="14"
                        FontWeight="Bold"
                        HorizontalAlignment="Right"
                        Margin="10,10,10,10" />

                <Button Content="OK"
                        Click="OkButton_Click"
                        Padding="10,5"
                        IsDefault="True"
                        Width="120"
                        Style="{StaticResource Sdl.Button.PrimaryStyle}"
                        BorderThickness="0"
                        Cursor="Hand"
                        FontSize="14"
                        FontWeight="Bold"
                        HorizontalAlignment="Right"
                        Margin="0,10,10,10" />

            </StackPanel>
        </Grid>
    </Border>
</Window>
